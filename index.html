<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Registrace a přihlášení</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: auto; }
  input { display: block; width: 100%; margin-bottom: 10px; padding: 8px; }
  button { padding: 10px; width: 100%; background-color: #4285f4; color: white; border: none; cursor: pointer; }
  button:hover { background-color: #357ae8; }
  #message { color: red; margin-bottom: 10px; }
  #toggleForm { margin-top: 10px; background: none; border: none; color: #4285f4; cursor: pointer; }
</style>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script>
  // Firebase config (doplň svoje)
  const firebaseConfig = {
    apiKey: "TVŮJ_API_KEY",
    authDomain: "TVŮJ_AUTH_DOMAIN",
    projectId: "TVŮJ_PROJECT_ID",
    storageBucket: "TVŮJ_STORAGE_BUCKET",
    messagingSenderId: "TVŮJ_MESSAGING_SENDER_ID",
    appId: "TVŮJ_APP_ID",
    measurementId: "TVŮJ_MEASUREMENT_ID"
  };

  // Inicializace Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>
</head>
<body>

<h2 id="formTitle">Přihlášení</h2>
<div id="message"></div>

<input type="email" id="email" placeholder="Email" />
<input type="password" id="password" placeholder="Heslo" />

<button id="submitBtn">Přihlásit se</button>

<button id="toggleForm">Nemáš účet? Registruj se</button>

<script>
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const submitBtn = document.getElementById('submitBtn');
  const toggleFormBtn = document.getElementById('toggleForm');
  const messageDiv = document.getElementById('message');
  const formTitle = document.getElementById('formTitle');

  let isLogin = true;

  toggleFormBtn.onclick = () => {
    isLogin = !isLogin;
    if (isLogin) {
      formTitle.textContent = "Přihlášení";
      submitBtn.textContent = "Přihlásit se";
      toggleFormBtn.textContent = "Nemáš účet? Registruj se";
    } else {
      formTitle.textContent = "Registrace";
      submitBtn.textContent = "Registrovat";
      toggleFormBtn.textContent = "Máš účet? Přihlaš se";
    }
    messageDiv.textContent = "";
  };

  submitBtn.onclick = () => {
    const email = emailInput.value;
    const password = passwordInput.value;
    messageDiv.textContent = "";

    if (!email || !password) {
      messageDiv.textContent = "Vyplň prosím email i heslo.";
      return;
    }

    if (isLogin) {
      // Přihlášení
      auth.signInWithEmailAndPassword(email, password)
        .then(() => {
          messageDiv.style.color = "green";
          messageDiv.textContent = "Úspěšně přihlášen!";
          // Tady můžeš přesměrovat uživatele nebo něco dalšího
        })
        .catch(error => {
          messageDiv.style.color = "red";
          messageDiv.textContent = "Chyba přihlášení: " + error.message;
        });
    } else {
      // Registrace
      auth.createUserWithEmailAndPassword(email, password)
        .then(() => {
          messageDiv.style.color = "green";
          messageDiv.textContent = "Úspěšně zaregistrován! Teď se můžeš přihlásit.";
          isLogin = true;
          formTitle.textContent = "Přihlášení";
          submitBtn.textContent = "Přihlásit se";
          toggleFormBtn.textContent = "Nemáš účet? Registruj se";
          emailInput.value = "";
          passwordInput.value = "";
        })
        .catch(error => {
          messageDiv.style.color = "red";
          messageDiv.textContent = "Chyba registrace: " + error.message;
        });
    }
  };
</script>

</body>
</html>
