<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dolní Lhota Run</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<style>
  body {
    margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f7f9fc;
    color: #222;
  }
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 60px;
    background: linear-gradient(90deg, #0052D4, #4364F7, #6FB1FC);
    color: white;
    display: flex;
    align-items: center;
    padding: 0 1rem;
    z-index: 200;
  }
  #hamburger {
    font-size: 1.8rem;
    cursor: pointer;
    margin-right: 1rem;
  }
  #pageTitle {
    font-weight: 700;
    font-size: 1.3rem;
  }
  #sidebar {
    position: fixed;
    top: 60px;
    left: 0;
    width: 250px;
    height: calc(100vh - 60px);
    background-color: #304ffe;
    color: white;
    padding-top: 1rem;
    transform: translateX(-260px);
    transition: transform 0.3s ease;
    overflow-y: auto;
    z-index: 150;
  }
  #sidebar.active {
    transform: translateX(0);
  }
  #sidebar nav a {
    display: block;
    padding: 12px 20px;
    color: white;
    text-decoration: none;
    font-weight: 600;
    border-left: 4px solid transparent;
    transition: background 0.3s, border-color 0.3s;
  }
  #sidebar nav a.active, #sidebar nav a:hover {
    background: #5677fc;
    border-left: 4px solid #ffd600;
  }
  main {
    margin-top: 60px;
    margin-left: 0;
    padding: 1rem;
    transition: margin-left 0.3s ease;
  }
  main.shifted {
    margin-left: 250px;
  }
  button {
    background-color: #ffd600;
    border: none;
    color: #222;
    font-weight: 700;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #ffec3d;
  }
  /* Responsive */
  @media (min-width: 768px) {
    #sidebar {
      transform: translateX(0);
    }
    main {
      margin-left: 250px;
    }
    #hamburger {
      display: none;
    }
  }
</style>
</head>
<body>

<header>
  <div id="hamburger">&#9776;</div>
  <div id="pageTitle">Hlavní stránka</div>
</header>

<aside id="sidebar">
  <nav>
    <a href="#" data-page="dashboard" class="active">Hlavní stránka</a>
    <a href="#" data-page="myRuns">Moje běhy</a>
    <a href="#" data-page="teams">Týmy</a>
    <a href="#" data-page="logout" id="logoutBtn">Odhlásit</a>
    <a href="#" data-page="darkmodeToggle" id="darkModeBtn">Tmavý režim</a>
  </nav>
</aside>

<main id="content">
  <!-- Dynamický obsah podle výběru -->
  <h2>Vítej v běžecké výzvě Dolní Lhoty!</h2>
  <p>Tady budeš sledovat své výsledky a statistiky.</p>
</main>

<script>
  // Firebase konfigurace (vyplň svojí config)
  const firebaseConfig = {
    apiKey: "TVŮJ_API_KEY",
    authDomain: "TVŮJ_AUTH_DOMAIN",
    projectId: "TVŮJ_PROJECT_ID",
    storageBucket: "TVŮJ_STORAGE_BUCKET",
    messagingSenderId: "TVŮJ_SENDER_ID",
    appId: "TVŮJ_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);

  // Sidebar toggle
  const hamburger = document.getElementById('hamburger');
  const sidebar = document.getElementById('sidebar');
  const mainContent = document.getElementById('content');
  const pageTitle = document.getElementById('pageTitle');

  hamburger.addEventListener('click', () => {
    sidebar.classList.toggle('active');
    mainContent.classList.toggle('shifted');
  });

  // Navigace a dynamický titulek
  const navLinks = sidebar.querySelectorAll('a[data-page]');
  navLinks.forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      if(link.dataset.page === 'logout'){
        firebase.auth().signOut();
        alert('Byl jsi odhlášen');
        return;
      }
      if(link.dataset.page === 'darkmodeToggle'){
        toggleDarkMode();
        return;
      }
      navLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
      pageTitle.textContent = link.textContent;
      sidebar.classList.remove('active');
      mainContent.classList.remove('shifted');
      // TODO: Dynamicky měnit obsah
      mainContent.innerHTML = `<h2>${link.textContent}</h2><p>Obsah stránky "${link.textContent}" bude brzy k dispozici.</p>`;
    });
  });

  // Jednoduchý tmavý režim
  function toggleDarkMode() {
    if(document.body.style.backgroundColor === 'black'){
      document.body.style.backgroundColor = '#f7f9fc';
      document.body.style.color = '#222';
      pageTitle.style.color = 'white';
    } else {
      document.body.style.backgroundColor = 'black';
      document.body.style.color = 'white';
      pageTitle.style.color = 'white';
    }
  }
</script>

</body>
</html>
